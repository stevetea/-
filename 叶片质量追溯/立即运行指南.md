# 🚀 立即运行指南

## ⚠️ 重要：uni-app 项目必须编译后才能运行！

**错误做法**：直接在微信开发者工具中打开 `叶片质量追溯` 文件夹 ❌

**正确做法**：使用 HBuilderX 编译，或打开编译后的目录 ✅

---

## 📋 方法一：使用 HBuilderX（最简单，推荐）

### 步骤 1：下载 HBuilderX
- 访问：https://www.dcloud.io/hbuilderx.html
- 下载"App开发版"（免费）

### 步骤 2：打开项目
1. 打开 HBuilderX
2. 文件 → 打开目录
3. 选择 `叶片质量追溯` 文件夹

### 步骤 3：运行
1. 点击工具栏的"运行"按钮（或按 F5）
2. 选择"运行到小程序模拟器" → "微信开发者工具"
3. 等待编译完成
4. 微信开发者工具会自动打开并显示小程序

### 步骤 4：如果微信开发者工具没有自动打开
1. 手动打开微信开发者工具
2. 在 HBuilderX 中：工具 → 设置 → 运行配置
3. 设置微信开发者工具的安装路径
4. 重新运行

---

## 📋 方法二：使用已编译的文件

如果项目已经编译过（有 `unpackage` 目录）：

### 步骤 1：打开微信开发者工具
1. 打开微信开发者工具
2. 点击"导入项目"或"+"号

### 步骤 2：选择正确的目录
**重要**：必须选择编译后的目录！

```
选择这个目录：
叶片质量追溯/unpackage/dist/dev/mp-weixin
```

**不要选择**：
- ❌ `叶片质量追溯` （源代码目录）
- ❌ `叶片质量追溯/pages` （页面目录）

### 步骤 3：填写项目信息
- AppID：可以使用测试号（点击"测试号"）
- 项目名称：叶片质量追溯
- 点击"导入"

---

## 📋 方法三：命令行编译（需要 Node.js）

### 步骤 1：安装 Node.js
- 访问：https://nodejs.org/
- 下载并安装 LTS 版本

### 步骤 2：安装依赖
打开命令行，进入项目目录：
```bash
cd 叶片质量追溯
npm install
```

### 步骤 3：编译项目
```bash
npm run dev:mp-weixin
```

### 步骤 4：打开编译后的目录
在微信开发者工具中打开：
```
叶片质量追溯/unpackage/dist/dev/mp-weixin
```

---

## ✅ 验证是否运行成功

运行成功后，你应该看到：

1. ✅ 微信开发者工具显示小程序界面
2. ✅ 没有错误提示
3. ✅ 可以看到登录页面
4. ✅ 控制台没有红色错误

---

## 🔧 常见问题解决

### 问题 1：提示 "app.json 未找到"

**原因**：打开了源代码目录，而不是编译后的目录

**解决**：
1. 使用 HBuilderX 编译项目
2. 或在微信开发者工具中打开 `unpackage/dist/dev/mp-weixin` 目录

### 问题 2：HBuilderX 提示找不到微信开发者工具

**解决**：
1. 确保已安装微信开发者工具
2. 在 HBuilderX 中：工具 → 设置 → 运行配置
3. 设置微信开发者工具的安装路径（通常在：`C:\Program Files (x86)\Tencent\微信web开发者工具`）

### 问题 3：编译失败

**解决**：
1. 检查 `pages.json` 中的页面路径是否正确
2. 确保所有页面文件都存在
3. 查看 HBuilderX 底部的编译日志，查看具体错误

### 问题 4：页面显示空白

**解决**：
1. 检查控制台是否有错误
2. 确认 `utils/mock.js` 中 `USE_MOCK = true`
3. 检查网络请求是否正常

### 问题 5：登录后跳转失败

**解决**：
1. 检查 `pages.json` 中登录页是否在第一位
2. 检查路由路径是否正确
3. 查看控制台错误信息

---

## 📱 测试步骤

### 1. 测试登录
- 输入任意名称（如：`张园英`）
- 输入任意密码
- 点击登录

### 2. 测试首页
- 查看是否显示对应角色的菜单

### 3. 测试扫码
- 点击"扫码追溯"
- 手动输入叶片ID：`1`
- 点击查询

### 4. 测试权限
- 使用不同角色登录
- 查看追溯详情页的权限控制

---

## 💡 提示

1. **首次运行**：建议使用 HBuilderX，最简单
2. **日常开发**：修改代码后，HBuilderX 会自动编译
3. **真机测试**：在微信开发者工具中点击"预览"，用手机扫描二维码
4. **调试**：使用微信开发者工具的控制台查看日志

---

## 📞 需要帮助？

如果还有问题：
1. 查看 `运行说明.md` 获取更多信息
2. 查看 HBuilderX 的编译日志
3. 查看微信开发者工具的控制台错误

