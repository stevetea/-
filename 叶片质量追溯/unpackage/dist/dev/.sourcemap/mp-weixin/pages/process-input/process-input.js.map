{"version":3,"file":"process-input.js","sources":["pages/process-input/process-input.vue","F:/Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvY2Vzcy1pbnB1dC9wcm9jZXNzLWlucHV0LnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"process-input-container\">\r\n    <view class=\"form-card\">\r\n      <view class=\"card-title\">{{ pageTitle }}</view>\r\n      \r\n      <!-- 叶片信息 -->\r\n      <view class=\"blade-info\">\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">叶片序列号：</text>\r\n          <text class=\"value\">{{ bladeInfo.blade_sn || '未知' }}</text>\r\n        </view>\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">叶片ID：</text>\r\n          <text class=\"value\">{{ bladeId }}</text>\r\n        </view>\r\n        <view class=\"info-item\" v-if=\"currentProcess\">\r\n          <text class=\"label\">当前工序：</text>\r\n          <text class=\"value\">{{ currentProcess.name }}</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 工序选择（如果未指定） -->\r\n      <view class=\"form-section\" v-if=\"!processCode\">\r\n        <view class=\"section-title\">选择工序 *</view>\r\n        <picker \r\n          mode=\"selector\" \r\n          :range=\"availableProcesses\" \r\n          range-key=\"name\"\r\n          :value=\"processIndex\"\r\n          @change=\"onProcessChange\"\r\n        >\r\n          <view class=\"picker\">\r\n            {{ availableProcesses[processIndex]?.name || '请选择工序' }}\r\n          </view>\r\n        </picker>\r\n      </view>\r\n      \r\n      <!-- 工序参数表单（根据工序类型动态显示） -->\r\n      <view class=\"form-section\" v-if=\"processCode\">\r\n        <view class=\"section-title\">{{ currentProcess?.name }} - 工艺参数</view>\r\n        \r\n        <!-- 通用字段 -->\r\n        <view class=\"input-group\">\r\n          <text class=\"input-label\">是否成功 *</text>\r\n          <view class=\"radio-group\">\r\n            <label class=\"radio-item\" @click=\"form.is_success = 1\">\r\n              <radio :checked=\"form.is_success === 1\" color=\"#667eea\" />\r\n              <text>成功</text>\r\n            </label>\r\n            <label class=\"radio-item\" @click=\"form.is_success = 0\">\r\n              <radio :checked=\"form.is_success === 0\" color=\"#667eea\" />\r\n              <text>失败</text>\r\n            </label>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 失败原因（失败时必填） -->\r\n        <view class=\"input-group\" v-if=\"form.is_success === 0\">\r\n          <text class=\"input-label\">失败原因 *</text>\r\n          <textarea \r\n            class=\"textarea\" \r\n            v-model=\"form.fail_reason\" \r\n            placeholder=\"请输入失败原因\"\r\n            maxlength=\"255\"\r\n          />\r\n        </view>\r\n        \r\n        <!-- 备注 -->\r\n        <view class=\"input-group\">\r\n          <text class=\"input-label\">备注</text>\r\n          <textarea \r\n            class=\"textarea\" \r\n            v-model=\"form.remarks\" \r\n            placeholder=\"请输入备注信息\"\r\n            maxlength=\"255\"\r\n          />\r\n        </view>\r\n        \r\n        <!-- 动态工序参数字段（根据工序类型） -->\r\n        <template v-if=\"processCode === 'ALLOY_PREHEAT'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">炉号/设备编号 *</text>\r\n            <input class=\"input\" v-model=\"form.furnace_no\" placeholder=\"例如: FURN-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">目标温度(°C) *</text>\r\n            <input class=\"input\" v-model=\"form.target_temp_c\" type=\"digit\" placeholder=\"例如: 850.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">保温时间(min) *</text>\r\n            <input class=\"input\" v-model=\"form.hold_time_min\" type=\"number\" placeholder=\"例如: 120\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'STAMP_FORM_COOL'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">冲压机编号 *</text>\r\n            <input class=\"input\" v-model=\"form.press_no\" placeholder=\"例如: PRESS-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">模具编号 *</text>\r\n            <input class=\"input\" v-model=\"form.die_no\" placeholder=\"例如: DIE-A01\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">吨位(t) *</text>\r\n            <input class=\"input\" v-model=\"form.tonnage_t\" type=\"digit\" placeholder=\"例如: 500.00\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">冷却方式 *</text>\r\n            <picker mode=\"selector\" :range=\"coolMethods\" :value=\"coolMethodIndex\" @change=\"onCoolMethodChange\">\r\n              <view class=\"picker\">{{ coolMethods[coolMethodIndex] }}</view>\r\n            </picker>\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">冷却时间(min) *</text>\r\n            <input class=\"input\" v-model=\"form.cooling_time_min\" type=\"number\" placeholder=\"例如: 60\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'EDGE_GRIND'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">打磨设备编号 *</text>\r\n            <input class=\"input\" v-model=\"form.grinder_no\" placeholder=\"例如: GRIND-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">砂轮目数/粒度 *</text>\r\n            <input class=\"input\" v-model=\"form.wheel_grit\" type=\"number\" placeholder=\"例如: 120\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">进给速度(mm/s)</text>\r\n            <input class=\"input\" v-model=\"form.feed_mm_s\" type=\"digit\" placeholder=\"例如: 50.0\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'CERAMIC_COAT_HEAT'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">陶瓷漆批次号 *</text>\r\n            <input class=\"input\" v-model=\"form.paint_batch_no\" placeholder=\"例如: BATCH-20251228-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">涂层厚度(μm) *</text>\r\n            <input class=\"input\" v-model=\"form.coating_thickness_um\" type=\"digit\" placeholder=\"例如: 150.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">烘箱/固化炉编号 *</text>\r\n            <input class=\"input\" v-model=\"form.oven_no\" placeholder=\"例如: OVEN-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">固化温度(°C) *</text>\r\n            <input class=\"input\" v-model=\"form.bake_temp_c\" type=\"digit\" placeholder=\"例如: 1200.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">固化时间(min) *</text>\r\n            <input class=\"input\" v-model=\"form.bake_time_min\" type=\"number\" placeholder=\"例如: 180\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'SECOND_STAMP'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">冲压机编号 *</text>\r\n            <input class=\"input\" v-model=\"form.press_no\" placeholder=\"例如: PRESS-002\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">模具编号 *</text>\r\n            <input class=\"input\" v-model=\"form.die_no\" placeholder=\"例如: DIE-B01\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">吨位(t) *</text>\r\n            <input class=\"input\" v-model=\"form.tonnage_t\" type=\"digit\" placeholder=\"例如: 60.00\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">行程(mm)</text>\r\n            <input class=\"input\" v-model=\"form.stroke_mm\" type=\"digit\" placeholder=\"例如: 80.00\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">速度(mm/s)</text>\r\n            <input class=\"input\" v-model=\"form.speed_mm_s\" type=\"digit\" placeholder=\"例如: 28.00\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">润滑剂类型</text>\r\n            <input class=\"input\" v-model=\"form.lubrication_type\" placeholder=\"例如: OIL-A\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">润滑剂用量(ml)</text>\r\n            <input class=\"input\" v-model=\"form.lubrication_amount_ml\" type=\"digit\" placeholder=\"例如: 8.0\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'DIE_CAST'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">压铸机编号 *</text>\r\n            <input class=\"input\" v-model=\"form.machine_no\" placeholder=\"例如: CAST-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">合金批次号 *</text>\r\n            <input class=\"input\" v-model=\"form.alloy_batch_no\" placeholder=\"例如: ALLOY-20251228-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">熔炼温度(°C) *</text>\r\n            <input class=\"input\" v-model=\"form.melt_temp_c\" type=\"digit\" placeholder=\"例如: 750.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">模温(°C)</text>\r\n            <input class=\"input\" v-model=\"form.mold_temp_c\" type=\"digit\" placeholder=\"例如: 200.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">注射压力(MPa) *</text>\r\n            <input class=\"input\" v-model=\"form.injection_pressure_mpa\" type=\"digit\" placeholder=\"例如: 80.00\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">充型时间(ms)</text>\r\n            <input class=\"input\" v-model=\"form.fill_time_ms\" type=\"number\" placeholder=\"例如: 150\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">保压压力(MPa)</text>\r\n            <input class=\"input\" v-model=\"form.hold_pressure_mpa\" type=\"digit\" placeholder=\"例如: 60.00\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">保压时间(ms)</text>\r\n            <input class=\"input\" v-model=\"form.hold_time_ms\" type=\"number\" placeholder=\"例如: 5000\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">冷却时间(s)</text>\r\n            <input class=\"input\" v-model=\"form.cooling_time_s\" type=\"number\" placeholder=\"例如: 30\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">单次射出重量(g)</text>\r\n            <input class=\"input\" v-model=\"form.shot_weight_g\" type=\"digit\" placeholder=\"例如: 500.00\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'BROACH'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">拉床设备编号 *</text>\r\n            <input class=\"input\" v-model=\"form.machine_no\" placeholder=\"例如: BROACH-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">拉刀编号 *</text>\r\n            <input class=\"input\" v-model=\"form.broach_tool_no\" placeholder=\"例如: TOOL-D01\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">拉削速度(mm/s)</text>\r\n            <input class=\"input\" v-model=\"form.broach_speed_mm_s\" type=\"digit\" placeholder=\"例如: 50.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">每行程进给(mm/行程)</text>\r\n            <input class=\"input\" v-model=\"form.feed_mm_per_stroke\" type=\"digit\" placeholder=\"例如: 0.5\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">切削油类型</text>\r\n            <input class=\"input\" v-model=\"form.cutting_oil_type\" placeholder=\"例如: OIL-B\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">走刀次数</text>\r\n            <input class=\"input\" v-model=\"form.pass_count\" type=\"number\" placeholder=\"例如: 2\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">目标尺寸(mm)</text>\r\n            <input class=\"input\" v-model=\"form.target_dimension_mm\" type=\"digit\" placeholder=\"例如: 100.0000\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">实测尺寸(mm)</text>\r\n            <input class=\"input\" v-model=\"form.measured_dimension_mm\" type=\"digit\" placeholder=\"例如: 99.9500\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'HYD_REMOVE_PROTECT'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">液压机编号 *</text>\r\n            <input class=\"input\" v-model=\"form.press_no\" placeholder=\"例如: HYD-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">压力(MPa) *</text>\r\n            <input class=\"input\" v-model=\"form.pressure_mpa\" type=\"digit\" placeholder=\"例如: 10.00\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">保压时间(s) *</text>\r\n            <input class=\"input\" v-model=\"form.hold_time_s\" type=\"number\" placeholder=\"例如: 30\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">方式</text>\r\n            <picker mode=\"selector\" :range=\"hydMethods\" :value=\"hydMethodIndex\" @change=\"onHydMethodChange\">\r\n              <view class=\"picker\">{{ hydMethods[hydMethodIndex] }}</view>\r\n            </picker>\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">溶剂类型</text>\r\n            <input class=\"input\" v-model=\"form.solvent_type\" placeholder=\"例如: SOLVENT-A\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">溶剂温度(°C)</text>\r\n            <input class=\"input\" v-model=\"form.solvent_temp_c\" type=\"digit\" placeholder=\"例如: 60.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">是否需要清洗</text>\r\n            <picker mode=\"selector\" :range=\"rinseOptions\" :value=\"rinseIndex\" @change=\"onRinseChange\">\r\n              <view class=\"picker\">{{ rinseOptions[rinseIndex] }}</view>\r\n            </picker>\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'QR_ENGRAVE'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">激光设备编号 *</text>\r\n            <input class=\"input\" v-model=\"form.laser_machine_no\" placeholder=\"例如: LASER-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">二维码格式</text>\r\n            <picker mode=\"selector\" :range=\"qrFormats\" :value=\"qrFormatIndex\" @change=\"onQrFormatChange\">\r\n              <view class=\"picker\">{{ qrFormats[qrFormatIndex] }}</view>\r\n            </picker>\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"tip-text\">二维码内容将根据选择的格式自动生成</text>\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">激光功率(W)</text>\r\n            <input class=\"input\" v-model=\"form.laser_power_w\" type=\"digit\" placeholder=\"例如: 50.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">扫描速度(mm/s)</text>\r\n            <input class=\"input\" v-model=\"form.scan_speed_mm_s\" type=\"digit\" placeholder=\"例如: 100.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">焦距(mm)</text>\r\n            <input class=\"input\" v-model=\"form.focal_length_mm\" type=\"digit\" placeholder=\"例如: 150.0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">标刻深度(μm)</text>\r\n            <input class=\"input\" v-model=\"form.mark_depth_um\" type=\"digit\" placeholder=\"例如: 50.0\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <template v-if=\"processCode === 'FLUORESCENT_TEST'\">\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">检测设备编号 *</text>\r\n            <input class=\"input\" v-model=\"form.equipment_no\" placeholder=\"例如: FLUO-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">停留时间(min) *</text>\r\n            <input class=\"input\" v-model=\"form.dwell_time_min\" type=\"number\" placeholder=\"例如: 10\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">荧光渗透剂批次号</text>\r\n            <input class=\"input\" v-model=\"form.penetrant_batch_no\" placeholder=\"例如: PEN-20251228-001\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">显像剂类型</text>\r\n            <input class=\"input\" v-model=\"form.developer_type\" placeholder=\"例如: DEV-A\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">显像时间(min)</text>\r\n            <input class=\"input\" v-model=\"form.developer_time_min\" type=\"number\" placeholder=\"例如: 5\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">紫外强度(μW/cm²)</text>\r\n            <input class=\"input\" v-model=\"form.uv_intensity_uw_cm2\" type=\"digit\" placeholder=\"例如: 1000.00\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">缺陷数量</text>\r\n            <input class=\"input\" v-model=\"form.defect_count\" type=\"number\" placeholder=\"例如: 0\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">最大缺陷长度(mm)</text>\r\n            <input class=\"input\" v-model=\"form.max_defect_length_mm\" type=\"digit\" placeholder=\"例如: 2.5\" />\r\n          </view>\r\n          <view class=\"input-group\">\r\n            <text class=\"input-label\">检查说明/备注</text>\r\n            <textarea class=\"textarea\" v-model=\"form.inspector_notes\" placeholder=\"例如: 检测正常，无缺陷\" />\r\n          </view>\r\n        </template>\r\n        \r\n        <!-- 所有11个工序的参数字段已完整实现 -->\r\n        \r\n      </view>\r\n      \r\n      <!-- 提交按钮 -->\r\n      <button class=\"submit-btn\" @click=\"handleSubmit\" :loading=\"submitting\">\r\n        提交工序记录\r\n      </button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { get, post } from '@/utils/request.js'\r\nimport storage from '@/utils/storage.js'\r\nimport { PROCESS_MAP } from '@/utils/config.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      bladeId: null,\r\n      bladeInfo: {},\r\n      processCode: null,  // 工序编码\r\n      processIndex: 0,\r\n      currentProcess: null,\r\n      availableProcesses: [],\r\n      pageTitle: '工序录入',  // 页面标题\r\n      form: {\r\n        is_success: 1,\r\n        fail_reason: '',\r\n        remarks: '',\r\n        // 工序特定参数\r\n        furnace_no: '',\r\n        target_temp_c: '',\r\n        hold_time_min: '',\r\n        press_no: '',\r\n        die_no: '',\r\n        tonnage_t: '',\r\n        cooling_method: 'AIR',\r\n        cooling_time_min: '',\r\n        grinder_no: '',\r\n        wheel_grit: '',\r\n        feed_mm_s: '',\r\n        // 涂陶瓷漆涂层加热参数\r\n        paint_batch_no: '',\r\n        coating_thickness_um: '',\r\n        oven_no: '',\r\n        bake_temp_c: '',\r\n        bake_time_min: '',\r\n        // 二次冲压参数（复用 press_no, die_no, tonnage_t）\r\n        stroke_mm: '',\r\n        speed_mm_s: '',\r\n        lubrication_type: '',\r\n        lubrication_amount_ml: '',\r\n        // 压铸参数\r\n        machine_no: '',\r\n        alloy_batch_no: '',\r\n        melt_temp_c: '',\r\n        mold_temp_c: '',\r\n        injection_pressure_mpa: '',\r\n        fill_time_ms: '',\r\n        hold_pressure_mpa: '',\r\n        hold_time_ms: '',\r\n        cooling_time_s: '',\r\n        shot_weight_g: '',\r\n        // 拉床加工参数（复用 machine_no）\r\n        broach_tool_no: '',\r\n        broach_speed_mm_s: '',\r\n        feed_mm_per_stroke: '',\r\n        cutting_oil_type: '',\r\n        pass_count: '1',\r\n        target_dimension_mm: '',\r\n        measured_dimension_mm: '',\r\n        // 液压机去除保护层参数（复用 press_no）\r\n        pressure_mpa: '',\r\n        hold_time_s: '',\r\n        method: 'PRESS',\r\n        solvent_type: '',\r\n        solvent_temp_c: '',\r\n        rinse_required: 1,\r\n        // 雕刻二维码参数\r\n        laser_machine_no: '',\r\n        qr_format: 'BLADE_ID',\r\n        laser_power_w: '',\r\n        scan_speed_mm_s: '',\r\n        focal_length_mm: '',\r\n        mark_depth_um: '',\r\n        // 荧光检测参数\r\n        equipment_no: '',\r\n        penetrant_batch_no: '',\r\n        dwell_time_min: '',\r\n        developer_type: '',\r\n        developer_time_min: '',\r\n        uv_intensity_uw_cm2: '',\r\n        defect_count: '0',\r\n        max_defect_length_mm: '',\r\n        inspector_notes: ''\r\n      },\r\n      coolMethods: ['AIR', 'FORCED_AIR', 'WATER', 'OIL'],\r\n      coolMethodIndex: 0,\r\n      hydMethods: ['PRESS', 'PRESS_PLUS_SOLVENT'],\r\n      hydMethodIndex: 0,\r\n      hydMethodMap: { 'PRESS': 0, 'PRESS_PLUS_SOLVENT': 1 },\r\n      rinseOptions: ['是', '否'],\r\n      rinseIndex: 0,\r\n      qrFormats: ['BLADE_ID', 'BLADE_SN', 'CUSTOM'],\r\n      qrFormatIndex: 0,\r\n      qrFormatMap: { 'BLADE_ID': 0, 'BLADE_SN': 1, 'CUSTOM': 2 },\r\n      submitting: false\r\n    }\r\n  },\r\n  onLoad(options) {\r\n    this.bladeId = parseInt(options.bladeId)\r\n    this.processCode = options.processCode || null\r\n    \r\n    if (!this.bladeId) {\r\n      uni.showToast({\r\n        title: '参数错误',\r\n        icon: 'none'\r\n      })\r\n      setTimeout(() => {\r\n        uni.navigateBack()\r\n      }, 1500)\r\n      return\r\n    }\r\n    \r\n    // 检查权限\r\n    const userInfo = storage.getUserInfo()\r\n    if (!userInfo) {\r\n      uni.reLaunch({\r\n        url: '/pages/login/login'\r\n      })\r\n      return\r\n    }\r\n    \r\n    // 如果是荧光检测，允许质检员和管理员\r\n    if (this.processCode === 'FLUORESCENT_TEST') {\r\n      if (userInfo.role !== 'QC' && userInfo.role !== 'ADMIN') {\r\n        uni.showToast({\r\n          title: '只有质检员可以进行荧光检测',\r\n          icon: 'none'\r\n        })\r\n        setTimeout(() => {\r\n          uni.navigateBack()\r\n        }, 1500)\r\n        return\r\n      }\r\n    } else {\r\n      // 其他工序，只允许操作员和管理员\r\n      if (userInfo.role !== 'OPERATOR' && userInfo.role !== 'ADMIN') {\r\n        uni.showToast({\r\n          title: '无权限访问',\r\n          icon: 'none'\r\n        })\r\n        setTimeout(() => {\r\n          uni.navigateBack()\r\n        }, 1500)\r\n        return\r\n      }\r\n    }\r\n    \r\n    // 立即初始化工序列表，以便在传入processCode时能立即显示\r\n    // 操作员只能看到1-10步，质检员可以看到第11步\r\n    let processCodes = Object.keys(PROCESS_MAP).filter(code => code !== 'QC_INSPECTION')\r\n    if (userInfo.role === 'OPERATOR') {\r\n      // 操作员不能选择第11步（荧光检测）\r\n      processCodes = processCodes.filter(code => code !== 'FLUORESCENT_TEST')\r\n    }\r\n    \r\n    this.availableProcesses = processCodes\r\n      .map(code => ({\r\n        code,\r\n        name: PROCESS_MAP[code].name,\r\n        order: PROCESS_MAP[code].order\r\n      }))\r\n      .sort((a, b) => a.order - b.order)\r\n    \r\n    // 如果指定了工序，立即设置当前工序\r\n    if (this.processCode) {\r\n      const process = this.availableProcesses.find(p => p.code === this.processCode)\r\n      if (process) {\r\n        this.currentProcess = process\r\n        this.processIndex = this.availableProcesses.indexOf(process)\r\n      }\r\n    }\r\n    \r\n    this.loadBladeInfo()\r\n    this.loadAvailableProcesses()\r\n    \r\n    // 确保导航栏标题正确设置\r\n    this.setNavigationTitle()\r\n  },\r\n  onReady() {\r\n    // 在页面渲染完成后再次设置标题，确保生效\r\n    this.setNavigationTitle()\r\n  },\r\n  methods: {\r\n    setNavigationTitle() {\r\n      // 根据 processCode 设置导航栏标题\r\n      if (this.processCode === 'FLUORESCENT_TEST') {\r\n        this.pageTitle = '荧光检测'\r\n        uni.setNavigationBarTitle({\r\n          title: '荧光检测'\r\n        })\r\n      } else {\r\n        this.pageTitle = '工序录入'\r\n        uni.setNavigationBarTitle({\r\n          title: '工序录入'\r\n        })\r\n      }\r\n    },\r\n    async loadBladeInfo() {\r\n      try {\r\n        const res = await get(`/blade/${this.bladeId}`)\r\n        if (res && res.data) {\r\n          this.bladeInfo = res.data\r\n          \r\n          // 检查权限：已完成所有工序的叶片，只有质检员可以操作\r\n          const userInfo = storage.getUserInfo()\r\n          if (res.data.status === 'READY_FOR_QC') {\r\n            if (userInfo.role !== 'QC' && userInfo.role !== 'ADMIN') {\r\n              uni.showModal({\r\n                title: '权限不足',\r\n                content: '该叶片已完成所有工序，只有质检员可以进行操作',\r\n                showCancel: false,\r\n                success: () => {\r\n                  uni.navigateBack()\r\n                }\r\n              })\r\n              return\r\n            }\r\n          }\r\n          \r\n          // 已完成或报废的叶片不能再录入工序\r\n          if (res.data.status === 'COMPLETED' || res.data.status === 'SCRAPPED') {\r\n            uni.showModal({\r\n              title: '提示',\r\n              content: `该叶片状态为${res.data.status === 'COMPLETED' ? '已完成' : '已报废'}，无法继续录入工序`,\r\n              showCancel: false,\r\n              success: () => {\r\n                uni.navigateBack()\r\n              }\r\n            })\r\n            return\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('加载叶片信息失败:', error)\r\n      }\r\n    },\r\n    \r\n    async loadAvailableProcesses() {\r\n      // 获取可录入的工序列表（根据叶片当前进度）\r\n      try {\r\n        const res = await get(`/blade/${this.bladeId}/trace`)\r\n        if (res && res.data) {\r\n          const processes = res.data.processes || []\r\n          const userInfo = storage.getUserInfo()\r\n          \r\n          // 找出下一个可录入的工序\r\n          let processCodes = Object.keys(PROCESS_MAP)\r\n            .filter(code => code !== 'QC_INSPECTION')\r\n          \r\n          // 操作员不能选择第11步（荧光检测）\r\n          if (userInfo && userInfo.role === 'OPERATOR') {\r\n            processCodes = processCodes.filter(code => code !== 'FLUORESCENT_TEST')\r\n          }\r\n          \r\n          this.availableProcesses = processCodes\r\n            .map(code => ({\r\n              code,\r\n              name: PROCESS_MAP[code].name,\r\n              order: PROCESS_MAP[code].order\r\n            }))\r\n            .sort((a, b) => a.order - b.order)\r\n          \r\n          // 如果指定了工序，设置当前工序\r\n          if (this.processCode) {\r\n            const process = this.availableProcesses.find(p => p.code === this.processCode)\r\n            if (process) {\r\n              // 如果是荧光检测，检查前10个工序是否都已完成，以及是否已经进行过荧光检测\r\n              if (process.code === 'FLUORESCENT_TEST') {\r\n                // 检查是否已经进行过荧光检测\r\n                const fluorescentRecord = processes.find(p => p.processCode === 'FLUORESCENT_TEST')\r\n                if (fluorescentRecord && fluorescentRecord.record) {\r\n                  uni.showModal({\r\n                    title: '提示',\r\n                    content: '该叶片已经进行过荧光检测，不能重复检测',\r\n                    showCancel: false,\r\n                    success: () => {\r\n                      uni.navigateBack()\r\n                    }\r\n                  })\r\n                  return\r\n                }\r\n                \r\n                const first10ProcessCodes = [\r\n                  'ALLOY_PREHEAT', 'STAMP_FORM_COOL', 'EDGE_GRIND', 'CERAMIC_COAT_HEAT',\r\n                  'SECOND_STAMP', 'TRIM_EXCESS', 'DIE_CAST', 'BROACH',\r\n                  'HYD_REMOVE_PROTECT', 'QR_ENGRAVE'\r\n                ]\r\n                \r\n                let allFirst10Completed = true\r\n                const missingProcesses = []\r\n                \r\n                for (const code of first10ProcessCodes) {\r\n                  const processRecord = processes.find(p => p.processCode === code)\r\n                  if (!processRecord || !processRecord.record || !processRecord.isSuccess) {\r\n                    allFirst10Completed = false\r\n                    const processName = PROCESS_MAP[code]?.name || code\r\n                    missingProcesses.push(processName)\r\n                  }\r\n                }\r\n                \r\n                if (!allFirst10Completed) {\r\n                  uni.showModal({\r\n                    title: '提示',\r\n                    content: `前10个工序尚未全部完成，无法进行荧光检测。\\n未完成的工序：${missingProcesses.join('、')}`,\r\n                    showCancel: false,\r\n                    success: () => {\r\n                      uni.navigateBack()\r\n                    }\r\n                  })\r\n                  return\r\n                }\r\n              }\r\n              \r\n              this.currentProcess = process\r\n              this.processIndex = this.availableProcesses.indexOf(process)\r\n            }\r\n          } else {\r\n            // 自动选择下一个工序\r\n            const nextProcess = this.findNextProcess(processes)\r\n            if (nextProcess) {\r\n              this.processCode = nextProcess.code\r\n              this.currentProcess = nextProcess\r\n              this.processIndex = this.availableProcesses.indexOf(nextProcess)\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('加载工序信息失败:', error)\r\n        // 如果加载失败，使用默认工序列表\r\n        this.availableProcesses = Object.keys(PROCESS_MAP)\r\n          .filter(code => code !== 'QC_INSPECTION')\r\n          .map(code => ({\r\n            code,\r\n            name: PROCESS_MAP[code].name,\r\n            order: PROCESS_MAP[code].order\r\n          }))\r\n          .sort((a, b) => a.order - b.order)\r\n      }\r\n    },\r\n    \r\n    findNextProcess(processes) {\r\n      // 找出第一个未完成的工序\r\n      for (const process of this.availableProcesses) {\r\n        const processRecord = processes.find(p => p.processCode === process.code)\r\n        if (!processRecord || !processRecord.record || !processRecord.isSuccess) {\r\n          return process\r\n        }\r\n      }\r\n      return null\r\n    },\r\n    \r\n    async onProcessChange(e) {\r\n      this.processIndex = parseInt(e.detail.value)\r\n      this.currentProcess = this.availableProcesses[this.processIndex]\r\n      this.processCode = this.currentProcess.code\r\n      \r\n      // 如果选择的是荧光检测，检查前10个工序是否都已完成，以及是否已经进行过荧光检测\r\n      if (this.processCode === 'FLUORESCENT_TEST') {\r\n        try {\r\n          const traceRes = await get(`/blade/${this.bladeId}/trace`)\r\n          if (traceRes && traceRes.data && traceRes.data.processes) {\r\n            const processes = traceRes.data.processes\r\n            \r\n            // 检查是否已经进行过荧光检测\r\n            const fluorescentRecord = processes.find(p => p.processCode === 'FLUORESCENT_TEST')\r\n            if (fluorescentRecord && fluorescentRecord.record) {\r\n              uni.showModal({\r\n                title: '提示',\r\n                content: '该叶片已经进行过荧光检测，不能重复检测',\r\n                showCancel: false,\r\n                success: () => {\r\n                  // 重置选择\r\n                  this.processIndex = 0\r\n                  this.currentProcess = this.availableProcesses[0]\r\n                  this.processCode = this.currentProcess.code\r\n                }\r\n              })\r\n              return\r\n            }\r\n            \r\n            const first10ProcessCodes = [\r\n              'ALLOY_PREHEAT', 'STAMP_FORM_COOL', 'EDGE_GRIND', 'CERAMIC_COAT_HEAT',\r\n              'SECOND_STAMP', 'TRIM_EXCESS', 'DIE_CAST', 'BROACH',\r\n              'HYD_REMOVE_PROTECT', 'QR_ENGRAVE'\r\n            ]\r\n            \r\n            let allFirst10Completed = true\r\n            const missingProcesses = []\r\n            \r\n            for (const code of first10ProcessCodes) {\r\n              const processRecord = processes.find(p => p.processCode === code)\r\n              if (!processRecord || !processRecord.record || !processRecord.isSuccess) {\r\n                allFirst10Completed = false\r\n                const processName = PROCESS_MAP[code]?.name || code\r\n                missingProcesses.push(processName)\r\n              }\r\n            }\r\n            \r\n            if (!allFirst10Completed) {\r\n              uni.showModal({\r\n                title: '提示',\r\n                content: `前10个工序尚未全部完成，无法进行荧光检测。\\n未完成的工序：${missingProcesses.join('、')}`,\r\n                showCancel: false,\r\n                success: () => {\r\n                  // 重置选择\r\n                  this.processIndex = 0\r\n                  this.currentProcess = this.availableProcesses[0]\r\n                  this.processCode = this.currentProcess.code\r\n                }\r\n              })\r\n              return\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('检查工序完成情况失败:', error)\r\n        }\r\n      }\r\n    },\r\n    \r\n    onCoolMethodChange(e) {\r\n      this.coolMethodIndex = parseInt(e.detail.value)\r\n      this.form.cooling_method = this.coolMethods[this.coolMethodIndex]\r\n    },\r\n    \r\n    onHydMethodChange(e) {\r\n      this.hydMethodIndex = parseInt(e.detail.value)\r\n      this.form.method = this.hydMethods[this.hydMethodIndex]\r\n    },\r\n    \r\n    onRinseChange(e) {\r\n      this.rinseIndex = parseInt(e.detail.value)\r\n      this.form.rinse_required = this.rinseIndex === 0 ? 1 : 0\r\n    },\r\n    \r\n    onQrFormatChange(e) {\r\n      this.qrFormatIndex = parseInt(e.detail.value)\r\n      this.form.qr_format = this.qrFormats[this.qrFormatIndex]\r\n      // 二维码内容由后端自动生成，不需要自定义输入\r\n    },\r\n    \r\n    validateForm() {\r\n      if (!this.processCode) {\r\n        uni.showToast({\r\n          title: '请选择工序',\r\n          icon: 'none'\r\n        })\r\n        return false\r\n      }\r\n      \r\n      if (this.form.is_success === 0 && !this.form.fail_reason) {\r\n        uni.showToast({\r\n          title: '失败时必须填写失败原因',\r\n          icon: 'none'\r\n        })\r\n        return false\r\n      }\r\n      \r\n      // 根据工序类型验证必填字段\r\n      if (this.processCode === 'ALLOY_PREHEAT') {\r\n        if (!this.form.furnace_no || !this.form.target_temp_c || !this.form.hold_time_min) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'STAMP_FORM_COOL') {\r\n        if (!this.form.press_no || !this.form.die_no || !this.form.tonnage_t || !this.form.cooling_time_min) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'EDGE_GRIND') {\r\n        if (!this.form.grinder_no || !this.form.wheel_grit) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'CERAMIC_COAT_HEAT') {\r\n        if (!this.form.paint_batch_no || !this.form.coating_thickness_um || \r\n            !this.form.oven_no || !this.form.bake_temp_c || !this.form.bake_time_min) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'SECOND_STAMP') {\r\n        if (!this.form.press_no || !this.form.die_no || !this.form.tonnage_t) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'DIE_CAST') {\r\n        if (!this.form.machine_no || !this.form.alloy_batch_no || \r\n            !this.form.melt_temp_c || !this.form.injection_pressure_mpa) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'BROACH') {\r\n        if (!this.form.machine_no || !this.form.broach_tool_no) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'HYD_REMOVE_PROTECT') {\r\n        if (!this.form.press_no || !this.form.pressure_mpa || !this.form.hold_time_s) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'QR_ENGRAVE') {\r\n        if (!this.form.laser_machine_no) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      if (this.processCode === 'FLUORESCENT_TEST') {\r\n        if (!this.form.equipment_no || !this.form.dwell_time_min) {\r\n          uni.showToast({\r\n            title: '请填写完整的工艺参数',\r\n            icon: 'none'\r\n          })\r\n          return false\r\n        }\r\n      }\r\n      \r\n      return true\r\n    },\r\n    \r\n    async handleSubmit() {\r\n      if (!this.validateForm()) {\r\n        return\r\n      }\r\n      \r\n      this.submitting = true\r\n      \r\n      try {\r\n        const userInfo = storage.getUserInfo()\r\n        \r\n        // 构建提交数据\r\n        const data = {\r\n          blade_id: this.bladeId,\r\n          operator_id: userInfo.operator_id,\r\n          process_code: this.processCode,\r\n          is_success: this.form.is_success,\r\n          fail_reason: this.form.fail_reason || null,\r\n          remarks: this.form.remarks || null,\r\n          // 工序特定参数\r\n          ...this.getProcessParams()\r\n        }\r\n        \r\n        const res = await post('/process', data)\r\n        \r\n        if (res && res.data) {\r\n          uni.showToast({\r\n            title: '提交成功',\r\n            icon: 'success'\r\n          })\r\n          \r\n          setTimeout(() => {\r\n            // 返回追溯详情页\r\n            uni.navigateBack()\r\n          }, 1500)\r\n        }\r\n      } catch (error) {\r\n        console.error('提交失败:', error)\r\n        const errorMsg = error.message || error.data?.message || '提交失败，请重试'\r\n        uni.showToast({\r\n          title: errorMsg,\r\n          icon: 'none',\r\n          duration: 2000\r\n        })\r\n      } finally {\r\n        this.submitting = false\r\n      }\r\n    },\r\n    \r\n    getProcessParams() {\r\n      // 根据工序类型返回对应的参数\r\n      const params = {}\r\n      \r\n      if (this.processCode === 'ALLOY_PREHEAT') {\r\n        params.furnace_no = this.form.furnace_no\r\n        params.target_temp_c = parseFloat(this.form.target_temp_c)\r\n        params.hold_time_min = parseInt(this.form.hold_time_min)\r\n      } else if (this.processCode === 'STAMP_FORM_COOL') {\r\n        params.press_no = this.form.press_no\r\n        params.die_no = this.form.die_no\r\n        params.tonnage_t = parseFloat(this.form.tonnage_t)\r\n        params.cooling_method = this.form.cooling_method\r\n        params.cooling_time_min = parseInt(this.form.cooling_time_min)\r\n      } else if (this.processCode === 'EDGE_GRIND') {\r\n        params.grinder_no = this.form.grinder_no\r\n        params.wheel_grit = parseInt(this.form.wheel_grit)\r\n        if (this.form.feed_mm_s) {\r\n          params.feed_mm_s = parseFloat(this.form.feed_mm_s)\r\n        }\r\n      } else if (this.processCode === 'CERAMIC_COAT_HEAT') {\r\n        params.paint_batch_no = this.form.paint_batch_no\r\n        params.coating_thickness_um = parseFloat(this.form.coating_thickness_um)\r\n        params.oven_no = this.form.oven_no\r\n        params.bake_temp_c = parseFloat(this.form.bake_temp_c)\r\n        params.bake_time_min = parseInt(this.form.bake_time_min)\r\n      } else if (this.processCode === 'SECOND_STAMP') {\r\n        // 二次冲压复用 press_no, die_no, tonnage_t\r\n        params.press_no = this.form.press_no\r\n        params.die_no = this.form.die_no\r\n        params.tonnage_t = parseFloat(this.form.tonnage_t)\r\n        if (this.form.stroke_mm) {\r\n          params.stroke_mm = parseFloat(this.form.stroke_mm)\r\n        }\r\n        if (this.form.speed_mm_s) {\r\n          params.speed_mm_s = parseFloat(this.form.speed_mm_s)\r\n        }\r\n        if (this.form.lubrication_type) {\r\n          params.lubrication_type = this.form.lubrication_type\r\n        }\r\n        if (this.form.lubrication_amount_ml) {\r\n          params.lubrication_amount_ml = parseFloat(this.form.lubrication_amount_ml)\r\n        }\r\n      } else if (this.processCode === 'DIE_CAST') {\r\n        params.machine_no = this.form.machine_no\r\n        params.alloy_batch_no = this.form.alloy_batch_no\r\n        params.melt_temp_c = parseFloat(this.form.melt_temp_c)\r\n        if (this.form.mold_temp_c) {\r\n          params.mold_temp_c = parseFloat(this.form.mold_temp_c)\r\n        }\r\n        params.injection_pressure_mpa = parseFloat(this.form.injection_pressure_mpa)\r\n        if (this.form.fill_time_ms) {\r\n          params.fill_time_ms = parseInt(this.form.fill_time_ms)\r\n        }\r\n        if (this.form.hold_pressure_mpa) {\r\n          params.hold_pressure_mpa = parseFloat(this.form.hold_pressure_mpa)\r\n        }\r\n        if (this.form.hold_time_ms) {\r\n          params.hold_time_ms = parseInt(this.form.hold_time_ms)\r\n        }\r\n        if (this.form.cooling_time_s) {\r\n          params.cooling_time_s = parseInt(this.form.cooling_time_s)\r\n        }\r\n        if (this.form.shot_weight_g) {\r\n          params.shot_weight_g = parseFloat(this.form.shot_weight_g)\r\n        }\r\n      } else if (this.processCode === 'BROACH') {\r\n        // 拉床加工复用 machine_no\r\n        params.machine_no = this.form.machine_no\r\n        params.broach_tool_no = this.form.broach_tool_no\r\n        if (this.form.broach_speed_mm_s) {\r\n          params.broach_speed_mm_s = parseFloat(this.form.broach_speed_mm_s)\r\n        }\r\n        if (this.form.feed_mm_per_stroke) {\r\n          params.feed_mm_per_stroke = parseFloat(this.form.feed_mm_per_stroke)\r\n        }\r\n        if (this.form.cutting_oil_type) {\r\n          params.cutting_oil_type = this.form.cutting_oil_type\r\n        }\r\n        if (this.form.pass_count) {\r\n          params.pass_count = parseInt(this.form.pass_count)\r\n        }\r\n        if (this.form.target_dimension_mm) {\r\n          params.target_dimension_mm = parseFloat(this.form.target_dimension_mm)\r\n        }\r\n        if (this.form.measured_dimension_mm) {\r\n          params.measured_dimension_mm = parseFloat(this.form.measured_dimension_mm)\r\n        }\r\n      } else if (this.processCode === 'HYD_REMOVE_PROTECT') {\r\n        // 液压机去除保护层复用 press_no\r\n        params.press_no = this.form.press_no\r\n        params.pressure_mpa = parseFloat(this.form.pressure_mpa)\r\n        params.hold_time_s = parseInt(this.form.hold_time_s)\r\n        params.method = this.form.method\r\n        if (this.form.solvent_type) {\r\n          params.solvent_type = this.form.solvent_type\r\n        }\r\n        if (this.form.solvent_temp_c) {\r\n          params.solvent_temp_c = parseFloat(this.form.solvent_temp_c)\r\n        }\r\n        params.rinse_required = this.rinseIndex === 0 ? 1 : 0\r\n      } else if (this.processCode === 'QR_ENGRAVE') {\r\n        params.laser_machine_no = this.form.laser_machine_no\r\n        params.qr_format = this.form.qr_format\r\n        // 二维码内容由后端自动生成，不传递 qr_text\r\n        if (this.form.laser_power_w) {\r\n          params.laser_power_w = parseFloat(this.form.laser_power_w)\r\n        }\r\n        if (this.form.scan_speed_mm_s) {\r\n          params.scan_speed_mm_s = parseFloat(this.form.scan_speed_mm_s)\r\n        }\r\n        if (this.form.focal_length_mm) {\r\n          params.focal_length_mm = parseFloat(this.form.focal_length_mm)\r\n        }\r\n        if (this.form.mark_depth_um) {\r\n          params.mark_depth_um = parseFloat(this.form.mark_depth_um)\r\n        }\r\n      } else if (this.processCode === 'FLUORESCENT_TEST') {\r\n        params.equipment_no = this.form.equipment_no\r\n        params.dwell_time_min = parseInt(this.form.dwell_time_min)\r\n        if (this.form.penetrant_batch_no) {\r\n          params.penetrant_batch_no = this.form.penetrant_batch_no\r\n        }\r\n        if (this.form.developer_type) {\r\n          params.developer_type = this.form.developer_type\r\n        }\r\n        if (this.form.developer_time_min) {\r\n          params.developer_time_min = parseInt(this.form.developer_time_min)\r\n        }\r\n        if (this.form.uv_intensity_uw_cm2) {\r\n          params.uv_intensity_uw_cm2 = parseFloat(this.form.uv_intensity_uw_cm2)\r\n        }\r\n        if (this.form.defect_count) {\r\n          params.defect_count = parseInt(this.form.defect_count)\r\n        }\r\n        if (this.form.max_defect_length_mm) {\r\n          params.max_defect_length_mm = parseFloat(this.form.max_defect_length_mm)\r\n        }\r\n        if (this.form.inspector_notes) {\r\n          params.inspector_notes = this.form.inspector_notes\r\n        }\r\n      }\r\n      // 所有11个工序的参数已完整实现\r\n      \r\n      return params\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.process-input-container {\r\n  min-height: 100vh;\r\n  background: #FFFFFF;\r\n  padding: 20rpx;\r\n}\r\n\r\n.form-card {\r\n  background: #ffffff;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n}\r\n\r\n.card-title {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 30rpx;\r\n  text-align: center;\r\n}\r\n\r\n.blade-info {\r\n  background: #f8f9fa;\r\n  border-radius: 10rpx;\r\n  padding: 20rpx;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  margin-bottom: 15rpx;\r\n}\r\n\r\n.info-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.info-item .label {\r\n  color: #666;\r\n  font-size: 28rpx;\r\n  width: 180rpx;\r\n}\r\n\r\n.info-item .value {\r\n  color: #333;\r\n  font-size: 28rpx;\r\n  font-weight: 500;\r\n}\r\n\r\n.form-section {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.section-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.input-group {\r\n  margin-bottom: 25rpx;\r\n}\r\n\r\n.input-label {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.input {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 8rpx;\r\n  padding: 0 20rpx;\r\n  font-size: 28rpx;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.textarea {\r\n  width: 100%;\r\n  min-height: 150rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 8rpx;\r\n  padding: 20rpx;\r\n  font-size: 28rpx;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.picker {\r\n  width: 100%;\r\n  height: 80rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 8rpx;\r\n  padding: 0 20rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.radio-group {\r\n  display: flex;\r\n  gap: 30rpx;\r\n}\r\n\r\n.radio-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10rpx;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.submit-btn {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  background: linear-gradient(135deg, #FFB6C1 0%, #FFB6C1 100%);\r\n  color: #ffffff;\r\n  border-radius: 10rpx;\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  border: none;\r\n  margin-top: 40rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.submit-btn::after {\r\n  border: none;\r\n}\r\n\r\n.tip-text {\r\n  font-size: 24rpx;\r\n  color: #999999;\r\n  line-height: 1.6;\r\n  padding: 10rpx 0;\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'D:/yepian32323232/yepian/叶片质量追溯/pages/process-input/process-input.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","storage","PROCESS_MAP","get","post"],"mappings":"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"}